<div class="bg-white border border-zinc-200 rounded-[10px] mb-3 overflow-hidden">
    <div class="px-5 pt-5 pb-3">
        <div class="flex justify-between items-start gap-4 mb-2">
            <div>
                <h3 class="text-base font-semibold leading-tight">{{ job()?.title }}</h3>
                <p class="text-[0.8125rem] text-zinc-500">{{ job()?.company }}</p>
            </div>
            @if (job()?.salary) {
            <span
                class="text-[0.8125rem] font-semibold text-zinc-900 whitespace-nowrap bg-zinc-100 px-2.5 py-1 rounded">{{
                job()?.salary }}</span>
            }
        </div>
        <div class="flex gap-2 mb-3 flex-wrap">
            <span class="text-xs font-medium text-zinc-600 bg-zinc-100 px-2 py-0.5 rounded">{{ job()?.location }}</span>
            <span class="text-xs font-medium text-zinc-400">{{ job()?.date | date : 'dd/MM/yyyy HH:mm' }}</span>
        </div>
        <p class="text-[0.8125rem] text-zinc-600 leading-relaxed line-clamp-2">{{ job()?.description }}</p>
    </div>
    <div class="flex items-center gap-2 px-5 py-3 border-t border-zinc-100 bg-zinc-50">
        <a [href]="job()?.url" target="_blank" rel="noopener"
            class="inline-flex items-center justify-center px-3 py-1 bg-zinc-900 text-white border border-zinc-900 rounded-md text-xs font-semibold no-underline transition-colors hover:bg-zinc-800">View
            Offer</a>
        @if (authService.isLoggedIn()) {
        <div class="ml-auto flex gap-2">
            @if (isFavorite()) {
            <button
                class="inline-flex items-center justify-center px-3 py-1 bg-zinc-900 text-white border border-zinc-900 rounded-md text-xs font-semibold transition-colors hover:bg-zinc-800 disabled:bg-zinc-300 disabled:border-zinc-300 disabled:cursor-not-allowed"
                (click)="onAddToFavorites()" [disabled]="isProcessing()">‚ù§Ô∏è Unfavorite</button>
            } @else {
            <button
                class="inline-flex items-center justify-center px-3 py-1 bg-zinc-900 text-white border border-zinc-900 rounded-md text-xs font-semibold transition-colors hover:bg-zinc-800 disabled:bg-zinc-300 disabled:border-zinc-300 disabled:cursor-not-allowed"
                (click)="onAddToFavorites()" [disabled]="isProcessing()">ü§ç Favorite</button>
            }

            @if(isApplied()){
            <button
                class="inline-flex items-center justify-center px-3 py-1 bg-zinc-900 text-white border border-zinc-900 rounded-md text-xs font-semibold transition-colors hover:bg-zinc-800 disabled:bg-zinc-300 disabled:border-zinc-300 disabled:cursor-not-allowed"
                (click)="onTrackApplication()" [disabled]="isProcessing()">- Track</button>
            }@else {
            <button
                class="inline-flex items-center justify-center px-3 py-1 bg-zinc-900 text-white border border-zinc-900 rounded-md text-xs font-semibold transition-colors hover:bg-zinc-800 disabled:bg-zinc-300 disabled:border-zinc-300 disabled:cursor-not-allowed"
                (click)="onTrackApplication()" [disabled]="isProcessing()">+ Track</button>
            }
        </div>
        }
    </div>
</div>