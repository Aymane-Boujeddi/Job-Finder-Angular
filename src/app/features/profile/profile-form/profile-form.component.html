<div class="profile-section">
    <div class="section-header">
        <h3 class="section-title">Personal Information</h3>
        <p class="section-subtitle">Update your account details</p>
    </div>
    @if (informationSuccessMessage()) {
    <div class="success-message">
        {{ informationSuccessMessage() }}
    </div>
    }
    @if (informationErrorMessage()) {
    <div class="registration-error">
        {{ informationErrorMessage() }}
    </div>
    }
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="form">
        <div class="form-group">
            <label for="prenom">First Name</label>
            <input id="prenom" type="text" formControlName="prenom" class="form-control" placeholder="John" />
            @if (errorMessage('prenom')) {
            <span class="error-message">{{ errorMessage('prenom') }}</span>
            }
        </div>
        <div class="form-group">
            <label for="nom">Last Name</label>
            <input id="nom" type="text" formControlName="nom" class="form-control" placeholder="Doe" />
            @if (errorMessage('nom')) {
            <span class="error-message">{{ errorMessage('nom') }}</span>
            }
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input id="email" type="email" formControlName="email" class="form-control" placeholder="you@example.com" />
            @if (errorMessage('email')) {
            <span class="error-message">{{ errorMessage('email') }}</span>
            }
        </div>
        <button type="submit" class="btn btn-full" [disabled]="profileForm.invalid">Save changes</button>
    </form>
</div>

<div class="profile-section">
    <div class="section-header">
        <h3 class="section-title">Change Password</h3>
        <p class="section-subtitle">Update your password to keep your account secure</p>
    </div>
    @if (passwordSuccessMessage()) {
    <div class="success-message">
        {{ passwordSuccessMessage() }}
    </div>
    }
    @if (passwordErrorMessage()) {
    <div class="registration-error">
        {{ passwordErrorMessage() }}
    </div>
    }
    <form [formGroup]="passwordForm" (ngSubmit)="passwordSubmit()">
        <div class="form-group">
            <label for="oldPassword">Current Password</label>
            <input id="oldPassword" type="password" formControlName="oldPassword" class="form-control"
                placeholder="Enter current password" />
            @if (errorMessage('oldPassword')) {
            <span class="error-message">{{ errorMessage('oldPassword') }}</span>
            }
        </div>
        <div class="form-group">
            <label for="newPassword">New Password</label>
            <input id="newPassword" type="password" formControlName="newPassword" class="form-control"
                placeholder="Enter new password (min 6 characters)" />
            @if (errorMessage('newPassword')) {
            <span class="error-message">{{ errorMessage('newPassword') }}</span>
            }
        </div>
        <button type="submit" class="btn btn-full" [disabled]="passwordForm.invalid">Update password</button>
    </form>
</div>